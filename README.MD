# ğŸ›¡ï¸ InsuraTask v1.1

**Una moderna applicazione web e desktop per la gestione delle attivitÃ  di agenti assicurativi**

[![Version](https://img.shields.io/badge/version-1.1.0--dev-blue?style=for-the-badge)](https://github.com/FDRFSR/insurance-daily-tracker)
[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![React](https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)](https://reactjs.org/)
[![Node.js](https://img.shields.io/badge/Node.js-43853D?style=for-the-badge&logo=node.js&logoColor=white)](https://nodejs.org/)
[![Express.js](https://img.shields.io/badge/Express.js-404D59?style=for-the-badge)](https://expressjs.com/)
[![SQLite](https://img.shields.io/badge/SQLite-07405E?style=for-the-badge&logo=sqlite&logoColor=white)](https://www.sqlite.org/)

---

## ğŸ“‹ Panoramica

InsuraTask Ã¨ una soluzione completa per agenti assicurativi che vogliono ottimizzare la gestione delle loro attivitÃ  quotidiane. L'applicazione offre un'interfaccia intuitiva per organizzare chiamate, preventivi, sinistri, documentazione e appuntamenti con i clienti.

### ğŸ¯ Obiettivi
- **Centralizzare** la gestione delle attivitÃ  assicurative
- **Migliorare** l'organizzazione temporale degli agenti
- **Ridurre** le attivitÃ  perse o dimenticate
- **Fornire** una panoramica chiara delle prioritÃ  quotidiane

---

## ğŸ“¸ Screenshots

### ğŸ  Dashboard Principale
![Dashboard Overview](screenshots/dashboard-overview.png)
*Vista principale con statistiche, lista attivitÃ  e calendario integrato*

### ğŸ“‹ Gestione AttivitÃ 
![Task Management](screenshots/task-management.png)
*Lista attivitÃ  con filtri, ricerca e azioni rapide*

---

## âœ¨ FunzionalitÃ  Principali

### ğŸ“Š Dashboard Intelligente v1.1
- **Statistiche real-time**: Panoramica delle attivitÃ  totali, in scadenza, completate
- **Analytics Avanzate**: Grafici interattivi per trend, distribuzioni e performance
- **Notifiche smart**: Alert per attivitÃ  in ritardo e scadenze del giorno
- **Metriche visuali**: Card colorate con icone specifiche per ogni categoria
- **Export Professionale**: Report PDF/Excel con branding e statistiche integrate

### ğŸ“… Gestione AttivitÃ  Avanzata
- **CRUD completo**: Crea, modifica, elimina e visualizza attivitÃ 
- **Categorie specializzate**: Chiamate, Preventivi, Sinistri, Documenti, Appuntamenti
- **PrioritÃ  e stati**: Sistema di prioritÃ  (bassa/media/alta) e stati (pending/completed/overdue)
- **Ricerca potente**: Filtro per categoria, ricerca testuale su titolo/descrizione/cliente
- **File Attachments**: Allegati per ogni attivitÃ  con preview integrato

### ğŸ—“ï¸ Calendario Interattivo (Enhanced Calendar)
- **Vista mensile avanzata**: Navigazione fluida con indicatori eventi per giorno
- **Popover dettagliati**: Click su ogni giorno per vedere attivitÃ  complete
- **Indicatori categorizzati**: Punti colorati per tipo di attivitÃ 
- **Priority indicators**: Icone speciali per alta prioritÃ  e scadenze
- **Integrazione filtri**: Selezione date sincronizzata con task list

### âš¡ Quick Actions & Shortcuts v1.1
- **6 Azioni rapide**: Bottoni categorizzati per creazione veloce attivitÃ 
- **Keyboard shortcuts**: Scorciatoie complete (Ctrl+N, Q, A, S, F, T)
- **Visual feedback**: Animazioni hover e feedback visivo professionale
- **Form pre-compilati**: Categoria e data giÃ  selezionate per workflow ottimizzato
- **Cross-platform**: Supporto Ctrl/Cmd per Windows/Mac

### ğŸ‘¤ Gestione Profilo
- **Profilo personalizzabile**: Nome, email, ruolo, azienda
- **Preferenze utente**: Tema chiaro/scuro, lingua, notifiche
- **Persistenza locale**: Salvataggio automatico delle preferenze

### ğŸ“ˆ Reporting & Analytics v1.1
- **Grafici interattivi**: Trend settimanali, performance giornaliere, distribuzioni
- **Export avanzato**: PDF e Excel con filtri personalizzabili
- **Metriche real-time**: Tasso completamento, efficienza, clienti da ricontattare
- **Dashboard toggle**: Visualizzazione analytics opzionale per interfaccia pulita

---

## ğŸ› ï¸ Stack Tecnologico

### Frontend
- **React 18** - Framework UI moderno con hooks
- **TypeScript** - Type safety e developer experience
- **Vite** - Build tool veloce e moderno
- **Tailwind CSS** - Utility-first CSS framework
- **shadcn/ui + Radix UI** - Componenti accessibili e customizzabili
- **TanStack Query** - Data fetching e caching intelligente
- **React Hook Form + Zod** - Form management e validazione
- **Chart.js + Recharts** - ğŸ“ˆ Grafici interattivi e analytics (v1.1)
- **React-ChartJS-2** - ğŸ“Š Integrazione React per Chart.js (v1.1)

### Backend
- **Node.js + TypeScript** - Runtime JavaScript server-side
- **Express.js** - Web framework minimalista
- **SQLite + better-sqlite3** - Database embedded performante
- **Zod** - Schema validation condivisa
- **Drizzle ORM** - Type-safe database queries
- **Multer** - ğŸ“ File upload middleware (v1.1)
- **jsPDF + jsPDF-AutoTable** - ğŸ“„ Generazione PDF professionale (v1.1)
- **XLSX** - ğŸ“Š Export Excel con formattazione (v1.1)
- **Node-Cron** - ğŸ”„ Scheduler per automazione (v1.1)

### Google Integration (Preparato per v1.3)
- **Google APIs** - Client per Google Calendar
- **Google Auth Library** - OAuth2 authentication
- **Googleapis** - SDK completo Google Services

### DevOps & Tools
- **ESLint + TypeScript** - Code quality e type checking
- **PostCSS + Autoprefixer** - CSS processing
- **Wouter** - Routing leggero
- **tsx** - TypeScript execution per development
- **Electron** - Desktop app wrapper
- **PKG** - Standalone executables

---

## ğŸ“ Struttura del Progetto

```
insuratask/
â”œâ”€â”€ client/                 # Frontend React
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # Componenti riutilizzabili
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/        # UI components (shadcn/ui)
â”‚   â”‚   â”‚   â”œâ”€â”€ export/    # ğŸ“Š Export components (v1.1)
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ExportModal.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ attachments/ # ğŸ“ File management (v1.1)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FileUploader.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AttachmentList.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ FilePreview.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ header.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ sidebar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ task-list.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ task-modal.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ enhanced-calendar.tsx  # ğŸ“… Enhanced (v1.1)
â”‚   â”‚   â”‚   â””â”€â”€ dashboard-charts.tsx   # ğŸ“ˆ Analytics (v1.1)
â”‚   â”‚   â”œâ”€â”€ contexts/       # React Context providers
â”‚   â”‚   â”œâ”€â”€ hooks/          # Custom hooks
â”‚   â”‚   â”œâ”€â”€ lib/            # Utility functions
â”‚   â”‚   â”œâ”€â”€ pages/          # Page components
â”‚   â”‚   â”œâ”€â”€ services/       # API services
â”‚   â”‚   â”‚   â””â”€â”€ exportService.ts  # ğŸ“Š Export API (v1.1)
â”‚   â”‚   â”œâ”€â”€ types/          # TypeScript definitions
â”‚   â”‚   â”‚   â””â”€â”€ export.ts   # ğŸ“Š Export types (v1.1)
â”‚   â”‚   â””â”€â”€ main.tsx        # Entry point
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ server/                 # Backend Express
â”‚   â”œâ”€â”€ index.ts           # Server entry point
â”‚   â”œâ”€â”€ routes.ts          # API routes definition
â”‚   â”œâ”€â”€ storage.ts         # Data layer interface
â”‚   â”œâ”€â”€ sqlite-storage.ts  # SQLite implementation
â”‚   â”œâ”€â”€ middleware/        # ğŸ“ Middleware (v1.1)
â”‚   â”‚   â””â”€â”€ fileUpload.ts  # Multer configuration
â”‚   â”œâ”€â”€ routes/            # ğŸ“Š API routes (v1.1)
â”‚   â”‚   â”œâ”€â”€ export.ts      # Export endpoints
â”‚   â”‚   â”œâ”€â”€ attachments.ts # File management
â”‚   â”‚   â””â”€â”€ templates.ts   # Template CRUD (preparato)
â”‚   â”œâ”€â”€ services/          # ğŸ”§ Business logic (v1.1)
â”‚   â”‚   â”œâ”€â”€ reportGenerator.ts  # PDF/Excel generation
â”‚   â”‚   â””â”€â”€ cronService.ts      # Job scheduler
â”‚   â””â”€â”€ vite.ts            # Vite integration
â”œâ”€â”€ shared/                # Codice condiviso
â”‚   â”œâ”€â”€ schema.ts          # Zod schemas e types
â”‚   â”œâ”€â”€ schemas/           # ğŸ“Š Schema validation (v1.1)
â”‚   â”‚   â””â”€â”€ export.ts      # Export request schemas
â”‚   â””â”€â”€ types/             # ğŸ“Š Type definitions (v1.1)
â”‚       â”œâ”€â”€ export.ts      # Export data types
â”‚       â”œâ”€â”€ template.ts    # Template types (preparato)
â”‚       â””â”€â”€ attachment.ts  # Attachment types
â”œâ”€â”€ electron/              # Wrapper Electron per desktop app
â”œâ”€â”€ screenshots/           # Screenshot per la documentazione
â”œâ”€â”€ uploads/               # ğŸ“ File storage (v1.1)
â”‚   â””â”€â”€ metadata/          # File metadata storage
â”œâ”€â”€ dist-pkg/              # Build standalone desktop
â”œâ”€â”€ package.json           # Dependencies (aggiornato v1.1)
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ vite.config.ts
â””â”€â”€ README.MD
```

---

## ğŸ”Œ API Reference

### Endpoints Principali

| Metodo | Endpoint | Descrizione |
|--------|----------|-------------|
| `GET` | `/api/tasks` | Lista attivitÃ  con filtri |
| `GET` | `/api/tasks/:id` | Dettaglio attivitÃ  specifica |
| `POST` | `/api/tasks` | Crea nuova attivitÃ  |
| `PATCH` | `/api/tasks/:id` | Aggiorna attivitÃ  esistente |
| `DELETE` | `/api/tasks/:id` | Elimina attivitÃ  |
| `GET` | `/api/tasks/stats` | Statistiche dashboard |

### ğŸ“Š Nuovi Endpoints v1.1 - Export & Files

| Metodo | Endpoint | Descrizione |
|--------|----------|-------------|
| `POST` | `/api/export` | Genera report PDF/Excel |
| `POST` | `/api/export/preview` | Anteprima dati export |
| `POST` | `/api/attachments/upload` | Upload file allegati |
| `GET` | `/api/attachments/:taskId` | Lista allegati per attivitÃ  |
| `DELETE` | `/api/attachments/:id` | Elimina allegato |
| `GET` | `/api/attachments/download/:id` | Download file allegato |

### ğŸ”„ Endpoints Templates (Preparati v1.2)

| Metodo | Endpoint | Descrizione |
|--------|----------|-------------|
| `GET` | `/api/templates` | Lista template disponibili |
| `POST` | `/api/templates` | Crea nuovo template |
| `PATCH` | `/api/templates/:id` | Aggiorna template |
| `DELETE` | `/api/templates/:id` | Elimina template |
| `POST` | `/api/templates/:id/generate` | Genera task da template |

### Query Parameters

```bash
# Filtra per categoria
GET /api/tasks?category=calls

# Filtra per stato  
GET /api/tasks?status=pending

# Ricerca testuale
GET /api/tasks?search=mario+rossi

# Combinazione filtri
GET /api/tasks?category=quotes&status=pending&search=preventivo
```

### ğŸ“Š Esempio Export Request (v1.1)

**POST /api/export**
```json
{
  "format": "pdf",  // "pdf" | "excel"
  "title": "Report AttivitÃ  Settimanali",
  "filters": {
    "category": "calls",
    "status": "pending",
    "dateFrom": "2025-06-01",
    "dateTo": "2025-06-07",
    "client": "Mario Rossi"
  },
  "includeStats": true
}
```

**Response:** File download (application/pdf o application/xlsx)

### Esempio Task Request/Response

**POST /api/tasks**
```json
{
  "title": "Chiamare Mario Rossi per rinnovo polizza auto",
  "description": "Discutere nuove coperture e sconti famiglia",
  "category": "calls",
  "client": "Mario Rossi",
  "priority": "high",
  "dueDate": "2025-06-03",
  "dueTime": "14:30"
}
```

**Response:**
```json
{
  "id": 1,
  "title": "Chiamare Mario Rossi per rinnovo polizza auto",
  "description": "Discutere nuove coperture e sconti famiglia",
  "category": "calls",
  "client": "Mario Rossi",
  "priority": "high",
  "status": "pending",
  "dueDate": "2025-06-03",
  "dueTime": "14:30",
  "completed": false,
  "completedAt": null,
  "createdAt": "2025-06-02T10:30:00Z",
  "updatedAt": "2025-06-02T10:30:00Z"
}
```

---

## ğŸ¨ Design System

### Palette Colori

```css
/* Colori Primari */
--primary: #1565C0;           /* Blue - Azioni principali */
--secondary: #B45309;         /* Orange - Azioni secondarie */
--success: #2E7D32;          /* Green - Successo/Completato */
--warning: #F57C00;          /* Orange - Attenzione/Media prioritÃ  */
--error: #EF4444;            /* Red - Errore/Alta prioritÃ  */

/* Colori Neutri */
--background: #FAFAF9;       /* Sfondo principale */
--foreground: #080808;       /* Testo principale */
--muted: #F5F5F4;           /* Elementi secondari */
--border: #E7E5E4;           /* Bordi */
```

### Categorie AttivitÃ 

| Categoria | Icona | Colore | Descrizione |
|-----------|-------|---------|-------------|
| `calls` | ğŸ“ | Blue | Chiamate clienti |
| `quotes` | ğŸ§® | Green | Preventivi e quotazioni |
| `claims` | ğŸ“‹ | Red | Gestione sinistri |
| `documents` | ğŸ“ | Yellow | Documentazione |
| `appointments` | ğŸ“… | Purple | Appuntamenti |

---

## ğŸ—„ï¸ Database locale

- Il database SQLite viene creato in `~/.config/insuratask/tasks.db` (Linux/macOS) o nella cartella utente su Windows.
- Non viene mai sovrascritto da nuove release.
- Backup e migrazioni schema gestite dal backend.

---

## ğŸ§ª Testing

```bash
npm run check      # Type checking
npm run build      # Build test
npx eslint client/src server/   # Linting
```

---

## ğŸš€ Deployment

### Ambiente di Produzione

1. **Build dell'applicazione**:
   ```bash
   npm run build
   ```

2. **Configurazione variabili d'ambiente**:
   ```bash
   NODE_ENV=production
   PORT=5000
   DATABASE_URL=./production.db
   ```

3. **Avvio del server**:
   ```bash
   npm start
   ```

### Docker (Opzionale)

```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY dist/ ./dist/
EXPOSE 5000
CMD ["npm", "start"]
```

---

## ğŸ¤ Contributing

Le contribuzioni sono benvenute! Per contribuire al progetto:

1. **Fork** il repository
2. **Crea** un branch per la tua feature (`git checkout -b feature/amazing-feature`)
3. **Commit** le tue modifiche (`git commit -m 'Add amazing feature'`)
4. **Push** al branch (`git push origin feature/amazing-feature`)
5. **Apri** una Pull Request

### Development Guidelines

- Utilizza **TypeScript** per tutti i nuovi file
- Segui le convenzioni di **ESLint** configurate
- Scrivi **test** per le nuove funzionalitÃ 
- Mantieni la **documentazione** aggiornata
- Usa **commit convenzionali** (feat:, fix:, docs:, etc.)

---

## ğŸ†• NovitÃ  v1.1 - Enhanced Features

### âœ… **IMPLEMENTATO - v1.1.0**

#### ğŸ“Š **Export Avanzato PDF/Excel**
- **Export PDF Professionale**: Report con branding InsuraTask, layout curato e statistiche integrate
- **Export Excel Formattato**: Fogli di calcolo con formattazione, filtri e grafici integrati
- **Filtri Avanzati**: Export personalizzabile per data, categoria, stato, prioritÃ  e cliente
- **Preview Real-time**: Anteprima dei dati prima della generazione del report
- **Download Automatico**: Generazione e download immediato dei file

#### ğŸ“… **Calendario Avanzato (Enhanced Calendar)**
- **Vista Mensile Interattiva**: Navigazione fluida con indicatori visuali per ogni giorno
- **Popover Dettagliati**: Click sui giorni per vedere dettagli completi delle attivitÃ 
- **Indicatori Categorizzati**: Punti colorati per tipo di attivitÃ  (chiamate, preventivi, etc.)
- **Priority & Status Indicators**: Icone speciali per prioritÃ  alta e attivitÃ  in ritardo
- **Integrazione Perfetta**: Sincronizzazione con task list e filtri data

#### âš¡ **Sistema Quick Actions Avanzato**
- **6 Azioni Rapide**: Bottoni categorizzati per creazione veloce attivitÃ 
  - ğŸ”µ **Nuova Chiamata** - Chiamate clienti
  - ğŸŸ¢ **Preventivo** - Quotazioni e preventivi  
  - ğŸŸ£ **Appuntamento** - Meeting e appuntamenti
  - ğŸ”´ **Sinistro** - Gestione sinistri
  - ğŸŸ  **Cliente** - Nuovi clienti
  - ğŸŸ¦ **Traccia Tempo** - Amministrazione
- **Keyboard Shortcuts**: Scorciatoie complete (Ctrl+N, Q, A, S, F, T)
- **Visual Feedback**: Animazioni hover e feedback visivo per azioni

#### ğŸ“ˆ **Analytics & Reporting Avanzato**
- **Dashboard Charts Interattivi**: Grafici settimanali, trend giornalieri, distribuzioni
- **Metriche Real-time**: Statistiche live su completamento, efficienza e performance
- **Clienti da Ricontattare**: Sistema intelligente per identificare follow-up necessari
- **Toggle Analytics**: Visualizzazione opzionale per interfaccia pulita

#### ğŸ“ **Sistema File Attachments**
- **Upload Sicuro**: Gestione allegati per ogni attivitÃ 
- **Preview Integrato**: Anteprima file supportati direttamente nell'interfaccia
- **Gestione Avanzata**: Organizzazione, download e rimozione allegati
- **Validazione File**: Controllo tipi e dimensioni file supportati

#### ğŸ”„ **Infrastructure per Templates (Preparato)**
- **Sistema Template**: Base per attivitÃ  ricorrenti (pronto per implementazione)
- **Cron Jobs Service**: Scheduler per automazione attivitÃ 
- **Template Engine**: Placeholder dinamici e personalizzazione

### ğŸ¨ **Miglioramenti UI/UX v1.1**
- **Glassmorphism Design**: Effetti moderni con backdrop-blur e gradienti
- **Responsive Perfetto**: Layout ottimizzato per mobile, tablet e desktop
- **Micro-interactions**: Animazioni fluide e feedback visivo professionale
- **Color-coded Categories**: Sistema di colori coerente per categorizzazione immediata

---

## ğŸ”® Roadmap Future

### v1.2 - Collaboration
- [ ] Multi-utente con permessi
- [ ] Condivisione attivitÃ  tra colleghi
- [ ] Comments e note collaborativi
- [ ] Audit log delle modifiche

### v1.3 - Google Integration
- [ ] Integrazione Google Calendar completa
- [ ] Sincronizzazione bidirezionale eventi
- [ ] OAuth2 e gestione account Google
- [ ] Conflict resolution automatico

### v2.0 - Advanced Features
- [ ] Mobile app nativa
- [ ] ModalitÃ  offline
- [ ] Integrazione CRM esterni
- [ ] API pubblica per integrazioni
- [ ] Templates ricorrenti automatici

---

## ğŸ“„ License

Questo progetto Ã¨ rilasciato sotto licenza **MIT**. Vedi il file [LICENSE](LICENSE) per maggiori dettagli.

---

## ğŸ“§ Contatti

**Federico Fusarri**
- ğŸŒ **LinkedIn**: [federico-fusarri](https://linkedin.com/in/federico-fusarri)
- ğŸ™ **GitHub**: [FDRFSR](https://github.com/FDRFSR)
- ğŸ“§ **Email**: [iscrizioni.fusarri at gmail.com](mailto:iscrizioni.fusarri at gmail.com)



<div align="center">

**Sviluppato con â¤ï¸ per la community degli agenti assicurativi**

[â­ Lascia una stella](https://github.com/FDRFSR/insurance-daily-tracker) â€¢ [ğŸ› Segnala un bug](https://github.com/FDRFSR/insurance-daily-tracker/issues) â€¢ [ğŸ’¡ Richiedi una feature](https://github.com/FDRFSR/insurance-daily-tracker/issues)

</div>